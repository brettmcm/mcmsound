header {
  position: fixed;
  z-index:  1000;
  width: 100%;
  display:flex;
  justify-content: center;
  top: 0;
  
  .menu {
      display:flex;
      flex-direction: column;
      justify-content: space-around;
      align-items: stretch;
      width:30px;
      height:30px;
      transition:opacity 0.3s;
      order:10;
      .line {
          display:block;
          width:100%;
          height:2px;
          background:$foreground;
          transition:transform  0.5s $easing, background  0.5s $easing;
      }
      &.open {
          .line {
              background:$foreground;
          }
          .line.top {
              transform:rotate(45deg) translate(7px, 7px);
          }
          .line.bottom {
              transform:rotate(-45deg) translate(7px, -7px);
          }
          .line.middle {
              transform:scaleX(0);
          }
      }
      &:hover {
          cursor:pointer;
      }
      @media screen and (min-width:$break-small) {
          display:none;
      }
  }

  .nav {
    position:fixed;
    display:flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
    box-sizing: border-box;
    margin:0;
    top:0;
    left:0px;
    width:100%;
    height:calc(100% + 2rem);
    padding-top:calc(2rem + 60px);
    background:$background;
    opacity:0;

    // font-size:0.9rem;
    text-decoration: none;
    // letter-spacing: 1px;
    line-height:2.5rem;

    z-index:-1;
    pointer-events: none;
    transition:opacity 0.5s $easing;

    ul {
        display:flex;
        flex-direction: column;
        align-items: flex-start;
        list-style: none;
        width:90%;
        padding:0;
        & > a, & > button {
            transform: translateY(1rem);
            opacity:0;
            transition:opacity 0.5s $easing, transform 0.5s $easing, color 0.3s;
            &.enabled {
                opacity:1;
                transform:none;
            }
        }
        & > a {
            margin-bottom:0.5em;
            font-size:1.6em;
        }
    }

    &.open {
      @media screen and (max-width: $break-small) {
        opacity:1;
        pointer-events: all;
      }
    }
}

  .header-bg {
    position:absolute;
    width:100%;
    height:100%;
    background: $background;
    z-index:-2;
    opacity:1;
    &.clear  {
      @media screen and (min-width: $break-large) {
        opacity:0;
      }
    }
  }
  .content {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    width: 90%;
    box-sizing: border-box;
    padding: calc(1em + 1vw) 0;

    .logo {
      height: 2em;
    }
    .links {
      display:none;
      flex-direction: row;
      justify-content: flex-end;
      align-items: center;
      width: 100%;
      a {
        position:relative;
        &:after {
          position:absolute;
          content: '';
          left:50%;
          bottom:-10px;
          width:0%;
          height:1px;
          background:$primary-highlight;
          transition: left 0.3s, width 0.3s, background 0.3s;
        }
        &:hover:after {
          left:20%;
          width:60%;
        }
        &.active:after {
          position:absolute;
          content: '';
          left:20%;
          bottom:-10px;
          width:60%;
          height:1px;
          background:$foreground;
        }
        &.active:hover:after {
          background:$primary-highlight;
        }
      }
      a:not(:last-child) {
        margin-right: 2em;
      }
    }
  }
  @media screen and (min-width: $break-small) {
    .menu { display:none; }
    .content {
      .links { display: flex; }
    }
  }
}
